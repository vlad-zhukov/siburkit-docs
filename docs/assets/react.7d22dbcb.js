import{_ as m}from"./index.0db14ad9.js";import{_ as b,r as u,s as g,h as C,aZ as x,c as R,u as P,m as k,j as t,a as F,F as w}from"./index.1e83582c.js";import{d as E}from"./Popover.module.851d5a6e.js";import{_ as T}from"./index.8b067f34.js";function L({targetRect:s,popoverRect:l,minWidth:o,maxWidth:e,offset:a,fixed:i}){if(!s)return{};const r=i?0:window.pageXOffset,B=i?0:window.pageYOffset,p={left:s.left+r,top:s.top+s.height+B+a,width:s.width>o&&s.width<e?s.width:o};if(!l)return p;p.visibility="visible";const c={top:s.top-l.height<0,right:window.innerWidth<s.left+l.width,bottom:window.innerHeight<s.top+l.height,left:s.left-l.width<0},d=c.right&&!c.left,y=c.bottom&&!c.top;return p.top=y?s.top-l.height+B-a:s.top+s.height+B+a,p.left=d?s.right-l.width+r:s.left+r,p}const _=function(l){const{target:o,minWidth:e=150,maxWidth:a=500,offset:i=0,fixed:r=!1,className:B,popoverClass:p,onClose:c,children:d}=l,y=b(l,["target","minWidth","maxWidth","offset","fixed","className","popoverClass","onClose","children"]),n=u.exports.useRef(null),f=u.exports.useRef(),D=u.exports.useRef(),A=u.exports.useCallback(()=>{if(n.current){const v=L({targetRect:f.current,popoverRect:D.current,minWidth:e,maxWidth:a,offset:i,fixed:r});g(n.current,v)}},[e,a,i,r]);return C(o,v=>{f.current=v,A()}),C(n,v=>{D.current=v,A()}),u.exports.createElement(x,{onUnmount:c},u.exports.createElement("div",Object.assign({},y,{ref:n,className:R(E.popover,r&&E.fixed,B,p)}),d))},h=s=>{s.preventDefault()};function M(s){const l=u.exports.useRef(null),o=u.exports.useRef(!1),e=s.isTargetFocused(l);(!e||s.disabled)&&(o.current=!1);const a=P(),i=u.exports.useCallback(n=>{o.current=n,a()},[a]),r=u.exports.useCallback(()=>{s.disabled||(s.isTargetFocused(l)?o.current=!o.current:(o.current=!0,s.focusTarget(l)),a())},[a,s]),B=u.exports.useCallback(n=>{s.disabled||(s.onFocus&&s.onFocus(n),a())},[a,s]),p=u.exports.useCallback(n=>{s.disabled||(s.onBlur&&s.onBlur(n),a())},[a,s]),c=u.exports.useCallback(n=>{if(o.current){if(n.key==="Escape"){n.preventDefault(),o.current=!1,a();return}}else if(n.key==="ArrowDown"||n.key==="ArrowUp"){n.preventDefault(),o.current=!0,a();return}s.onKeyDown(n)},[a,s]),d=k(s.uniqueIdPrefix),y=`${d}-popover`;return{isFocused:e,isPopoverOpen:o.current,setPopoverVisibility:i,uniqueId:d,targetProps:{ref:l,onClick:r,onFocusCapture:B,onBlurCapture:p,onKeyDown:c,onMouseDown:h,"aria-expanded":o.current,"aria-owns":y},popoverProps:{id:y,target:l,maxWidth:2e3,onMouseDownCapture:h}}}var O=Object.freeze(Object.defineProperty({__proto__:null,Popover:_,usePopoverState:M},Symbol.toStringTag,{value:"Module"}));function U(s={}){const{wrapper:l}=s.components||{};return l?t(l,{...s,children:t(o,{})}):o();function o(){const e=Object.assign({p:"p",code:"code",a:"a",h2:"h2"},s.components),{CodePreview:a}=e;return a||S("CodePreview",!0),F(w,{children:[F(e.p,{children:[t(e.code,{children:"Popover"}),` (\u043F\u043E\u043F\u043E\u0432\u0435\u0440) \u2014 \u044D\u0442\u043E \u043D\u0438\u0437\u043A\u043E\u0443\u0440\u043E\u0432\u043D\u0435\u0432\u044B\u0439 \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0441\u0434\u0435\u043B\u0430\u0442\u044C
\u0432\u044B\u043F\u0430\u0434\u0430\u044E\u0449\u0438\u0439 \u0431\u043B\u043E\u043A. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F \u0432 \u0432\u044B\u043F\u0430\u0434\u0430\u044E\u0449\u0438\u0445 \u0441\u043F\u0438\u0441\u043A\u0430\u0445, \u043E\u0431\u044B\u0447\u043D\u043E \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E \u0441
`,t(e.a,{href:"/menu",children:t(e.code,{children:"<Menu>"})}),"."]}),`
`,t(e.h2,{children:"\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430 \u0438 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435"}),`
`,F(e.p,{children:["\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u0435 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u0443 ",t(e.code,{children:"@siburkit/popover"})," \u0438\u0437 \u043D\u0430\u0448\u0435\u0433\u043E npm."]}),`
`,t(a,{code:`<pre class="shiki one-dark-pro" style="background-color: #282c34; color: #abb2bf"><div class="language-id">shell</div><div class='code-container'><code><div class='line'><span style="color: #ABB2BF">npm install @siburkit/popover</span></div></code></div></pre>`}),`
`,F(e.p,{children:["\u041E\u0431\u0435\u0440\u043D\u0438\u0442\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0432 ",t(e.a,{href:"/layers",children:t(e.code,{children:"<LayersManager>"})}),` (\u0435\u0441\u043B\u0438 \u0432\u044B \u0435\u0449\u0451 \u044D\u0442\u043E\u0433\u043E \u043D\u0435
\u0441\u0434\u0435\u043B\u0430\u043B\u0438).`]}),`
`,F(e.p,{children:["\u041F\u043E\u043F\u043E\u0432\u0435\u0440 \u043F\u043E\u0437\u0438\u0446\u0438\u043E\u043D\u0438\u0440\u0443\u0435\u0442\u0441\u044F \u043E\u0442\u043D\u043E\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 (\u0447\u0435\u0440\u0435\u0437 ",t(e.code,{children:"ref"}),`) \u0438 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043D\u0438\u0436\u0435
\u043D\u0435\u0433\u043E. \u0415\u0441\u043B\u0438 \u043F\u0440\u0438 \u0441\u043A\u0440\u043E\u043B\u043B\u0435 \u043E\u043D \u043D\u0435 \u043F\u043E\u043C\u0435\u0449\u0430\u0435\u0442\u0441\u044F \u0441\u043D\u0438\u0437\u0443, \u0442\u043E \u0431\u0443\u0434\u0435\u0442 \u043F\u0435\u0440\u0435\u043C\u0435\u0449\u0451\u043D \u043D\u0430\u0432\u0435\u0440\u0445
\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430.`]}),`
`,t(a,{code:`<pre class="shiki one-dark-pro twoslash lsp" style="background-color: #282c34; color: #abb2bf" preview="true"><div class="language-id">tsx</div><div class='code-container'><code><div class='line'><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75"><data-lsp lsp='(alias) const Popover: React.FC&lt;PopoverProps>&#10;import Popover' >Popover</data-lsp></span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&apos;@siburkit/popover&apos;</span><span style="color: #ABB2BF">;</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #C678DD">export</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">default</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></div><div class='line'><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B"><data-lsp lsp='const triggerRef: React.RefObject&lt;HTMLAnchorElement>' >triggerRef</data-lsp></span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B"><data-lsp lsp='(alias) namespace React&#10;import React' >React</data-lsp></span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF"><data-lsp lsp='function React.useRef&lt;HTMLAnchorElement>(initialValue: HTMLAnchorElement | null): React.RefObject&lt;HTMLAnchorElement> (+2 overloads)' >useRef</data-lsp></span><span style="color: #ABB2BF">&lt;</span><span style="color: #E5C07B"><data-lsp lsp='interface HTMLAnchorElement' >HTMLAnchorElement</data-lsp></span><span style="color: #ABB2BF">&gt;(</span><span style="color: #D19A66">null</span><span style="color: #ABB2BF">);</span></div><div class='line'><span style="color: #ABB2BF">    </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> [</span><span style="color: #E5C07B"><data-lsp lsp='const isOpen: boolean' >isOpen</data-lsp></span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B"><data-lsp lsp='const setIsOpen: React.Dispatch&lt;React.SetStateAction&lt;boolean>>' >setIsOpen</data-lsp></span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B"><data-lsp lsp='(alias) namespace React&#10;import React' >React</data-lsp></span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF"><data-lsp lsp='function React.useState&lt;boolean>(initialState: boolean | (() => boolean)): [boolean, React.Dispatch&lt;React.SetStateAction&lt;boolean>>] (+1 overload)' >useState</data-lsp></span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">);</span></div><div class='line'>&nbsp;</div><div class='line'><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> (</span></div><div class='line'><span style="color: #ABB2BF">        &lt;</span><span style="color: #E5C07B"><data-lsp lsp='(alias) function Text({ size, weight, tag, className, children, ...rest }: TextProps): JSX.Element&#10;import Text' >Text</data-lsp></span><span style="color: #ABB2BF">&gt;</span></div><div class='line'><span style="color: #ABB2BF">            &lt;</span><span style="color: #E5C07B"><data-lsp lsp='(alias) const Link: React.ForwardRefExoticComponent&lt;LinkProps &amp; React.RefAttributes&lt;HTMLAnchorElement>>&#10;import Link' >Link</data-lsp></span></div><div class='line'><span style="color: #ABB2BF">                </span><span style="color: #D19A66"><data-lsp lsp='(property) React.HTMLAttributes&lt;HTMLAnchorElement>.role?: React.AriaRole | undefined' >role</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #98C379">"button"</span></div><div class='line'><span style="color: #ABB2BF">                </span><span style="color: #D19A66"><data-lsp lsp='(property) React.RefAttributes&lt;HTMLAnchorElement>.ref?: React.Ref&lt;HTMLAnchorElement> | undefined' >ref</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75"><data-lsp lsp='const triggerRef: React.RefObject&lt;HTMLAnchorElement>' >triggerRef</data-lsp></span><span style="color: #C678DD">}</span></div><div class='line'><span style="color: #ABB2BF">                </span><span style="color: #D19A66"><data-lsp lsp='(property) React.DOMAttributes&lt;HTMLAnchorElement>.onClick?: React.MouseEventHandler&lt;HTMLAnchorElement> | undefined' >onClick</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #ABB2BF">() </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></div><div class='line'><span style="color: #ABB2BF">                    </span><span style="color: #61AFEF"><data-lsp lsp='const setIsOpen: (value: React.SetStateAction&lt;boolean>) => void' >setIsOpen</data-lsp></span><span style="color: #ABB2BF">((</span><span style="color: #E06C75"><data-lsp lsp='(parameter) s: boolean' >s</data-lsp></span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">!</span><span style="color: #E06C75"><data-lsp lsp='(parameter) s: boolean' >s</data-lsp></span><span style="color: #ABB2BF">);</span></div><div class='line'><span style="color: #ABB2BF">                }</span><span style="color: #C678DD">}</span></div><div class='line'><span style="color: #ABB2BF">            &gt;</span></div><div class='line'><span style="color: #ABB2BF">                \u041D\u0430\u0436\u043C\u0438\u0442\u0435</span></div><div class='line'><span style="color: #ABB2BF">            &lt;/</span><span style="color: #E5C07B"><data-lsp lsp='(alias) const Link: React.ForwardRefExoticComponent&lt;LinkProps &amp; React.RefAttributes&lt;HTMLAnchorElement>>&#10;import Link' >Link</data-lsp></span><span style="color: #ABB2BF">&gt;</span><span style="color: #C678DD">{</span><span style="color: #98C379">&apos; &apos;</span><span style="color: #C678DD">}</span></div><div class='line'><span style="color: #ABB2BF">            \u0438 \u043F\u043E\u0441\u043A\u0440\u043E\u043B\u044C\u0442\u0435 \u043D\u0430\u0432\u0435\u0440\u0445</span></div><div class='line'><span style="color: #ABB2BF">            </span><span style="color: #C678DD">{</span><span style="color: #E06C75"><data-lsp lsp='const isOpen: boolean' >isOpen</data-lsp></span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&&</span><span style="color: #ABB2BF"> (</span></div><div class='line'><span style="color: #ABB2BF">                &lt;</span><span style="color: #E5C07B"><data-lsp lsp='(alias) const Popover: React.FC&lt;PopoverProps>&#10;import Popover' >Popover</data-lsp></span><span style="color: #ABB2BF"> </span><span style="color: #D19A66"><data-lsp lsp='(property) PopoverProps.target: React.RefObject&lt;HTMLElement>' >target</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #E06C75"><data-lsp lsp='const triggerRef: React.RefObject&lt;HTMLAnchorElement>' >triggerRef</data-lsp></span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66"><data-lsp lsp='(property) PopoverProps.offset?: number' >offset</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">4</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66"><data-lsp lsp='(property) PopoverProps.minWidth?: number' >minWidth</data-lsp></span><span style="color: #56B6C2">=</span><span style="color: #C678DD">{</span><span style="color: #D19A66">320</span><span style="color: #C678DD">}</span><span style="color: #ABB2BF">&gt;</span></div><div class='line'><span style="color: #ABB2BF">                    \u041F\u043E\u043B\u0438\u043F\u0440\u043E\u043F\u0438\u043B\u0435\u043D \u0445\u0440\u0430\u043D\u044F\u0442 \u0432 \u0437\u0430\u043A\u0440\u044B\u0442\u043E\u043C \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0438 \u0438\u0441\u043A\u043B\u044E\u0447\u0430\u044E\u0449\u0435\u043C</span></div><div class='line'><span style="color: #ABB2BF">                    \u043F\u043E\u043F\u0430\u0434\u0430\u043D\u0438\u0435 \u043F\u0440\u044F\u043C\u044B\u0445 \u0441\u043E\u043B\u043D\u0435\u0447\u043D\u044B\u0445 \u043B\u0443\u0447\u0435\u0439, \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0438 \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 1\u043C</span></div><div class='line'><span style="color: #ABB2BF">                    \u043E\u0442 \u043D\u0430\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u043F\u0440\u0438\u0431\u043E\u0440\u043E\u0432. \u041F\u043E\u043B\u0438\u043F\u0440\u043E\u043F\u0438\u043B\u0435\u043D \u0445\u0440\u0430\u043D\u044F\u0442 \u043F\u0440\u0438</span></div><div class='line'><span style="color: #ABB2BF">                    \u0442\u0435\u043C\u043F\u0435\u0440\u0430\u0442\u0443\u0440\u0435 \u043D\u0435 \u0432\u044B\u0448\u0435 30\xB0\u0421 \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432 \u0438 \u043E\u0442\u043D\u043E\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0439 \u0432\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u0438</span></div><div class='line'><span style="color: #ABB2BF">                    \u2014 \u043D\u0435 \u0431\u043E\u043B\u0435\u0435 80%.</span></div><div class='line'><span style="color: #ABB2BF">                &lt;/</span><span style="color: #E5C07B"><data-lsp lsp='(alias) const Popover: React.FC&lt;PopoverProps>&#10;import Popover' >Popover</data-lsp></span><span style="color: #ABB2BF">&gt;</span></div><div class='line'><span style="color: #ABB2BF">            )</span><span style="color: #C678DD">}</span></div><div class='line'><span style="color: #ABB2BF">        &lt;/</span><span style="color: #E5C07B"><data-lsp lsp='(alias) function Text({ size, weight, tag, className, children, ...rest }: TextProps): JSX.Element&#10;import Text' >Text</data-lsp></span><span style="color: #ABB2BF">&gt;</span></div><div class='line'><span style="color: #ABB2BF">    );</span></div><div class='line'><span style="color: #ABB2BF">};</span></div></code></div></pre>`,preview:async()=>{const{Link:i}=T,{Text:r}=m,{Popover:B}=O;return()=>{const p=u.exports.useRef(null),[c,d]=u.exports.useState(!1);return F(r,{children:[t(i,{role:"button",ref:p,onClick:()=>{d(y=>!y)},children:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435"})," ","\u0438 \u043F\u043E\u0441\u043A\u0440\u043E\u043B\u044C\u0442\u0435 \u043D\u0430\u0432\u0435\u0440\u0445",c&&t(B,{target:p,offset:4,minWidth:320,children:"\u041F\u043E\u043B\u0438\u043F\u0440\u043E\u043F\u0438\u043B\u0435\u043D \u0445\u0440\u0430\u043D\u044F\u0442 \u0432 \u0437\u0430\u043A\u0440\u044B\u0442\u043E\u043C \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u0438\u0438 \u0438\u0441\u043A\u043B\u044E\u0447\u0430\u044E\u0449\u0435\u043C \u043F\u043E\u043F\u0430\u0434\u0430\u043D\u0438\u0435 \u043F\u0440\u044F\u043C\u044B\u0445 \u0441\u043E\u043B\u043D\u0435\u0447\u043D\u044B\u0445 \u043B\u0443\u0447\u0435\u0439, \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0438 \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 1\u043C \u043E\u0442 \u043D\u0430\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u043F\u0440\u0438\u0431\u043E\u0440\u043E\u0432. \u041F\u043E\u043B\u0438\u043F\u0440\u043E\u043F\u0438\u043B\u0435\u043D \u0445\u0440\u0430\u043D\u044F\u0442 \u043F\u0440\u0438 \u0442\u0435\u043C\u043F\u0435\u0440\u0430\u0442\u0443\u0440\u0435 \u043D\u0435 \u0432\u044B\u0448\u0435 30\xB0\u0421 \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432 \u0438 \u043E\u0442\u043D\u043E\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0439 \u0432\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u0438 \u2014 \u043D\u0435 \u0431\u043E\u043B\u0435\u0435 80%."})]})}}}),`
`,F(e.p,{children:[`\u0415\u0441\u043B\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043F\u043E\u0437\u0438\u0446\u0438\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043F\u043E\u0432\u0435\u0440 \u043E\u0442\u043D\u043E\u0441\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0441
`,t(e.code,{children:"position: fixed"}),", \u0442\u043E \u043D\u0443\u0436\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0440\u043E\u043F ",t(e.code,{children:"fixed={true}"})]})]})}}function S(s,l){throw new Error("Expected "+(l?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}export{U as default};
